
# Data

const TF17_2_TF17_3_Support_Group_split_point = (154.1, -13.3, CT(7, 6, 25))
# The split point have different values in different map? 
# 戦史叢書第049巻 P275 (154.343949044586, 13.32484076433121)
# Black Shoe Carrier Admiral, Chapter 12, (154.07692307692307, 13.5)


const fleet_trajectory_map = Dict{String, Vector{SpatTempPos}}(
    "MO Carrier Striking Force" => [ # div 5 / MO Striking force
        (153, -0.1, CT(3, 7, 0)),
        (158, -4, CT(4, 6, 20)),
        (157.5, -3.5, CT(4, 9, 20)),
        (158.5, -6.5),
        (159.9, -7, CT(5, 0, 0)),
        (160.8, -7.5),
        (162.3, -9, CT(5, 8, 0)),
        (162.8, -10.5),
        (162.8, -11.1, CT(5, 15, 45)),
        (162.6, -11.2),
        (162.1, -11.2),
        (157.8, -10, CT(6, 8, 0)),
        (157.5, -9.8),
        (157.4, -10.0),
        (157.5, -10.1, CT(6, 11, 40)),
        (157.5, -11.1, CT(6, 14,0)),
        (157.5, -13.8, CT(6, 20, 0)),
        (157.5, -12.8, CT(7, 0, 0)),
        (157.5, -12.4),
        (157.6, -13.5),
        (157.5, -14, CT(7, 7, 40)),
        (158.5, -14, CT(7, 10, 45)),
        (156.5, -13.5),
        (156, -13, CT(7, 19, 45)),
        (156.4, -13.4),
        # (156.4, -12.5, CT(8, 0, 0)),
        (156.677, -11.755, CT(8, 2, 0)),
        (156.277, -11.966),
        (156.3, -10.755, CT(8, 7, 0)),
        (155.722, -11.566, CT(8, 10, 0)),
        (155.755, -11.988, CT(8, 11, 30)),
        (156.122, -12.322),
        (156.4, -12.322, CT(8, 14, 0)),
        (156.411, -9.311, CT(9, 2, 0))
    ],
    "TF11" => [ # TF 11
        (162.5, -16, CT(1, 7, 30)),
        (162.4, -15.9),
        (162.5, -16),
        (161.5, -16.2),
        (161.5, -17.0),
        (161.6, -17.4),
        (162, -17.5),
        (162.4, -17.4),
        (161.7, -16.0),
        (162.5, -16.9),
        (162.8, -17.1),
        (162, -17.1),
        (162, -17),
        (162.2, -16.5),
        (161.5, -16.5),
        (160.5, -16.3, CT(3, 20, 0)),
        (157, -14.8, CT(4, 8, 0)),
        (156.9, -15),
        (157.7, -16),
        (158, -17.6),
        (159.5, -17.6),
        (159.5, -17, CT(5, 0, 0)),
        (159.7, -15),
        (160.6, -15.5, CT(5, 19, 30))
    ],
    "TF17" => [ # TF 17
        (162.5, -16.1, CT(1, 6, 15)),
        (162.6, -17),
        (163, -17.5),
        (162.8, -17.5),
        (162.7, -17.4),
        (161.8, -16.2),
        (162, -16.1),
        (162.2, -16.3),
        (162.3, -17),
        (162, -17.1),
        (159.8, -17.1),
        (158.9, -16.2),
        (158.8, -15.6),
        (158.7, -15.5, CT(3, 20, 0)),
        (158.6, -11.1),
        (158.7, -11.2, CT(4, 7, 30)),
        (159.8, -10.9, CT(4, 11, 30)),
        (159.9, -11),
        (160.1, -10.7),
        (160.2, -10.1),
        (161, -10.1, CT(4, 15, 30)),
        (160.9, -10.3),
        (162, -11.6),
        (162, -12.8, CT(5, 0, 0)),
        (162, -13.3),
        (160.8, -14.1),
        (160.4, -14.6),
        (160, -15),
        (160.6, -15.5, CT(5, 19, 30))
    ],
    "TF17_2" =>[ # TF11+TF17
        # Black Shoe Carrier Admiral
        (160.323, -15.484, CT(5, 19, 30)),
        (157.944, -14.677),
        (158.589, -15.201, CT(6, 11, 30)),
        (158.427, -14.717),
        (156.089, -14.073, CT(7, 0, 0)),
        TF17_2_TF17_3_Support_Group_split_point
    ],
    "Oil Fleet" => [ # Oil fleet
        (158, -14.8, CT(6, 19, 30)),
        (158, -15.1, CT(7, 0, 0)),
        (157.6, -16.2, CT(7, 12, 0))
    ],
    "MO Main Force" => [ # MO main force (including Shoho)
        (155.3, -5.5, CT(2, 5, 30)),
        (156.2, -6.3),
        (156, -8, CT(2, 22, 0)),
        (157.8, -9, CT(3, 8, 20)), # help invading Tulagi
        (154.5, -7),
        (154.5, -6),
        (154.8, -7.6),
        (157.8, -9, CT(4, 22, 28)), # return almost same point
        (155.4, -8.1),
        (155.6, -7.1, CT(6, 0, 0)),
        (155.5, -7.2),
        # (154.7, -9.6, CT(7, 0, 0)),
        (153.3, -9.7, CT(7, 2, 0)), # detached Kinugasa, Furutaka
        (152.5, -9.8),
        (152.5, -9.9),
        # following data is scraped from "第６戦隊戦時日誌戦闘詳報"
        (152.92, -10.14, CT(7, 9, 0)), # combined Kinugasa, Furutaka
        (153.05, -10.46, CT(7, 11, 30)), # Shoho sunk, the complex tactic maneuver is ignored
        (153.21, -10.18, CT(7, 11, 53)),
        (153.52, -9.8, CT(7, 13, 0)),
        (154.34, -8.91, CT(7, 15, 30)),
        (154.65, -8.92, CT(7, 17, 0)),
        (154.73, -8.76),
        (154.62, -9.3, CT(7, 19, 0)),
        (154.38, -10.38, CT(7, 23, 0)),
        (154.31, -10.5, CT(7, 23, 30)), # detached Kinugasa, Furutaka to reinforce MO Striking Force
        (154.59, -9.03, CT(8, 6, 30)),
        (154.42, -8.97),
        (154.43, -8.43, CT(8, 9, 0)),
        (154.1, -10.8), 
        (154.1, -10.8), 
        (154.1, -10.8), 
        (154.59, -9.03, CT(8, 6, 30)),
        (154.68, -8.21), 
        (154.68, -8.1),
        (154.59, -8.),
        (154.68, -7.93),
        (154.68, -7.85, CT(8, 12, 30)),
        (154.8, -8.11, CT(8, 14, 0)),
        (154.8, -9.15, CT(8, 16, 30)),
        (154.78, -9.2, CT(8, 16, 45)),
        (154.76, -9.15, CT(8, 17, 0)),
        (154.77, -9.05),
        (155.08, -8.55, CT(8, 18, 20)),
        (155.38, -7.42, CT(9, 1, 45)),
    ],
    "Covering Force" => [ # support force / covering force. Seaplane tender and 2 CLs.
        (152.3, -11, CT(7, 6, 30)),
        (151.5, -8),
        (152.7, -7.6, CT(8, 0, 0)),
        (152.8, -5.5, CT(8, 12, 0))
    ],
    "MO Invasion Force" => [ # convoy (MO invade group)
        (152.1, -4.1, CT(4, 16, 0)),
        (152.5, -4.2),
        (153.0, -6.8),
        (154, -7.2, CT(6, 0, 0)),
        (154, -10, CT(7, 0, 0)),
        (152.5, -10.6),
        (152, -10),
        (151.5, -8, CT(8, 0, 0)),
        (152.2, -6.6, CT(8, 12, 0))
    ],
    "Support Group" => [ # support group (Grace's fleet, Grace's CAs)
        TF17_2_TF17_3_Support_Group_split_point,
        (153, -12.5),
        (152.1213422282691, -12.115939732402623, CT(7, 14, 32)),
        (151.5, -12), #, CT(7, 14, 50)), # start to fallback to south.
        (151, -12.5),
        (151.3, -13),
        (150, -12.7, CT(8, 0, 0)),
        (151.0, -14.3, CT(8, 20, 0))
    ],
    "TF17_3" => [ # TF11 + TF17 less support group
        TF17_2_TF17_3_Support_Group_split_point, 
        (154.42, -12.84),
        (154.77, -12.73),
        (154.385, -12.538),
        (154.461, -12.346),
        (154.538, -12.5),
        (154.385, -12.73),
        (154.115, -12.961),
        (154.308, -13.154, CT(7, 18, 0)),
        (154.8, -13.5),
        (155, -13.8),
        (155.511, -14.097, CT(8, 0, 0)),
        (155.551, -14.248),
        (154.251, -14.285, CT(8, 6, 25)),
        (154.606, -14.661, CT(8, 9, 0)),
        (155.433, -14.849, CT(8, 11, 0)),
        (155.196, -15.526, CT(8, 20, 0)),
        (155.118, -16.541, CT(9, 0, 0))
    ],
)

const fleet_size_map = Dict(
    "MO Carrier Striking Force" => "CV",
    "TF11" => "CV",
    "TF17" => "CV",
    "TF17_2" => "CV",
    "Oil Fleet" => "DD",
    "MO Main Force" => "CV",
    "Covering Force" => "CA",
    "MO Invasion Force" => "CA",
    "Support Group" => "CA",
    "TF17_3" => "CV"
)

const raid_of_Lae_Salamaua = Dict{String, Vector{SpatTempPos}}(
    "TF17" => [
        (157.542, -14.912, DateTime(1942, 3, 8, 12, 0)),
        (155.142, -14.360),
        (150.771, -13.981, DateTime(1942, 3, 9, 8, 0)),
        (149.742, -13.836),
        (148.028, -12.412),
        (145.714, -8.115),
        (145.828, -8.115, DateTime(1942, 3, 10, 12, 0)),
        (146.0, -11.104),
        (147.142, -13.343, DateTime(1942, 3, 11, 8, 0)),
        (147.5428, -14.011),
        (148.942, -15.0),
        (151.057, -15.639, DateTime(1942, 3, 12, 8, 0)), # distortion?
        (153.0, -16.947),
        (155.342, -16.656, DateTime(1942, 3, 13, 8, 0)),
        (157.742, -16.686, DateTime(1942, 3, 13, 20, 0))
    ]
)
